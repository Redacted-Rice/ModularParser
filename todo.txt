SonarQube analysis fixes
Add some more functional test cases